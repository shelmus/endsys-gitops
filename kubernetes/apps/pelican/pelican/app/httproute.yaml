---
apiVersion: gateway.networking.k8s.io/v1
kind: HTTPRoute
metadata:
  name: pelican-panel
spec:
  parentRefs:
  - name: internal
    namespace: kube-system
    sectionName: https
  hostnames: ["pelican.endsys.cloud"]
  rules:
    - matches:
      - headers:
          x-real-ip:
            regex: ".*" #Match any value - equivalent to passing through
      - headers:
          host:
            regex: ".*"
      - headers:
          x-forwarded-for:
            regex: ".*"
      - headers:
          x-forwarded-proto:
            regex: ".*"
    - backendRefs:
        - name: pelican-panel
          port: 80